!function(t){self.webpackChunk=function(n,r){for(var o in r)t[o]=r[o];for(;n.length;)e[n.pop()]=1};var n={},e={0:1},r={};var o={23:function(){return{}}};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var n=[];return n.push(Promise.resolve().then(function(){e[t]||importScripts(t+".mainWorker.js")})),({1:[23]}[t]||[]).forEach(function(t){var e=r[t];if(e)n.push(e);else{var u,a=o[t](),s=fetch(i.p+""+{23:"a282ab2cbbcf937f470c"}[t]+".module.wasm");if(a instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)u=Promise.all([WebAssembly.compileStreaming(s),a]).then(function(t){return WebAssembly.instantiate(t[0],t[1])});else if("function"==typeof WebAssembly.instantiateStreaming)u=WebAssembly.instantiateStreaming(s,a);else{u=s.then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,a)})}n.push(r[t]=u.then(function(n){return i.w[t]=(n.instance||n).exports}))}}),Promise.all(n)},i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i.w={},i(i.s=22)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function i(t){return void 0===t}function u(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,n){return r.call(t,n)},n.defaultCompare=function(t,n){return t<n?-1:t===n?0:1},n.defaultEquals=function(t,n){return t===n},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":u(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(u(t))return t.toString();var r="{",o=!0;for(var a in t)n.has(t,a)&&(o?o=!1:r+=e,r=r+a+":"+t[a]);return r+"}"},n.isFunction=o,n.isUndefined=i,n.isString=u,n.reverseCompareFunction=function(t){return i(t)||!o(t)?function(t,n){return t<n?1:t===n?0:-1}:function(n,e){return-1*t(n,e)}},n.compareToEquals=function(t){return function(n,e){return 0===t(n,e)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var n=this.table["$"+this.toStr(t)];if(!r.isUndefined(n))return n.value},t.prototype.setValue=function(t,n){if(!r.isUndefined(t)&&!r.isUndefined(n)){var e,o="$"+this.toStr(t),i=this.table[o];return r.isUndefined(i)?(this.nElements++,e=void 0):e=i.value,this.table[o]={key:t,value:n},e}},t.prototype.remove=function(t){var n="$"+this.toStr(t),e=this.table[n];if(!r.isUndefined(e))return delete this.table[n],this.nElements--,e.value},t.prototype.keys=function(){var t=[];for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n];t.push(e.key)}return t},t.prototype.values=function(){var t=[];for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n];t.push(e.value)}return t},t.prototype.forEach=function(t){for(var n in this.table)if(r.has(this.table,n)){var e=this.table[n];if(!1===t(e.key,e.value))return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(n,e){t+="\n\t"+n+" : "+e}),t+"\n}"},t}();n.default=o},function(t,n,e){"use strict";e.r(n),e.d(n,"lambda1",function(){return d}),e.d(n,"lambda2",function(){return v}),e.d(n,"lambda3",function(){return S}),e.d(n,"lambda4",function(){return x}),e.d(n,"lambda5",function(){return R}),e.d(n,"lambda6",function(){return N}),e.d(n,"Stream",function(){return J}),e.d(n,"StreamLoop",function(){return $}),e.d(n,"StreamSink",function(){return Z}),e.d(n,"Cell",function(){return H}),e.d(n,"CellLoop",function(){return tt}),e.d(n,"CellSink",function(){return nt}),e.d(n,"Transaction",function(){return G}),e.d(n,"Tuple2",function(){return et}),e.d(n,"Unit",function(){return q}),e.d(n,"Operational",function(){return B}),e.d(n,"getTotalRegistrations",function(){return u}),e.d(n,"Vertex",function(){return f}),e.d(n,"TimerSystemImpl",function(){return rt}),e.d(n,"TimerSystem",function(){return ut}),e.d(n,"SecondsTimerSystem",function(){return at}),e.d(n,"MillisecondsTimerSystem",function(){return lt}),e.d(n,"IOAction",function(){return ft});var r=e(4),o=e(6),i=0;function u(){return i}var a,s=function(){function t(t,n){if(this.registered=!1,this.deregister_=null,null===t)throw new Error("null origin!");this.origin=t,this.register_=n}return t.prototype.register=function(t){var n=this;this.registered||(this.registered=!0,null!==this.register_?this.deregister_=this.register_():(this.origin.increment(t),this.deregister_=function(){return n.origin.decrement(t)}))},t.prototype.deregister=function(t){this.registered&&(this.registered=!1,null!==this.deregister_&&this.deregister_())},t}();!function(t){t[t.black=0]="black",t[t.gray=1]="gray",t[t.white=2]="white",t[t.purple=3]="purple"}(a||(a={}));var l=[],c=0,f=function(){function t(t,n,e){this.targets=[],this.childrn=[],this.visited=!1,this.color=a.black,this.buffered=!1,this.refCountAdj=0,this.name=t,this.rank=n,this.sources=e,this.id=c++}return t.prototype.refCount=function(){return this.targets.length},t.prototype.register=function(t){return this.increment(t)},t.prototype.deregister=function(n){this.decrement(n),t.collectCycles()},t.prototype.incRefCount=function(t){var n=!1;if(0==this.refCount())for(var e=0;e<this.sources.length;e++)this.sources[e].register(this);return this.targets.push(t),t.childrn.push(this),t.ensureBiggerThan(this.rank)&&(n=!0),i++,n},t.prototype.decRefCount=function(t){for(var n=!1,e=t.childrn.length-1;e>=0;e--)t.childrn[e]===this&&t.childrn.splice(e,1);for(e=0;e<this.targets.length;e++)if(this.targets[e]===t){this.targets.splice(e,1),n=!0;break}if(n){if(0==this.refCount())for(e=0;e<this.sources.length;e++)this.sources[e].deregister(this);i--}},t.prototype.addSource=function(t){this.sources.push(t),this.refCount()>0&&t.register(this)},t.prototype.ensureBiggerThan=function(t){if(this.rank>t||this.visited)return!1;this.visited=!0,this.rank=t+1;for(var n=0;n<this.targets.length;n++)this.targets[n].ensureBiggerThan(this.rank);return this.visited=!1,!0},t.prototype.descr=function(){var t=null;switch(this.color){case a.black:t="black";break;case a.gray:t="gray";break;case a.white:t="white";break;case a.purple:t="purple"}for(var n=this.id+" "+this.name+" ["+this.refCount()+"/"+this.refCountAdj+"] "+t+" ->",e=this.children(),r=0;r<e.length;r++)n=n+" "+e[r].id;return n},t.prototype.children=function(){return this.childrn},t.prototype.increment=function(t){return this.incRefCount(t)},t.prototype.decrement=function(t){this.decRefCount(t),0==this.refCount()?this.release():this.possibleRoots()},t.prototype.release=function(){this.color=a.black,this.buffered||this.free()},t.prototype.free=function(){for(;this.targets.length>0;)this.decRefCount(this.targets[0])},t.prototype.possibleRoots=function(){this.color!=a.purple&&(this.color=a.purple,this.buffered||(this.buffered=!0,l.push(this)))},t.collectCycles=function(){if(!t.collectingCycles)try{t.collectingCycles=!0,t.markRoots(),t.scanRoots(),t.collectRoots()}finally{t.collectingCycles=!1}},t.markRoots=function(){for(var t=[],n=0;n<l.length;n++)l[n].color==a.purple?(l[n].markGray(),t.push(l[n])):(l[n].buffered=!1,l[n].color==a.black&&0==l[n].refCount()&&l[n].free());l=t},t.scanRoots=function(){for(var t=0;t<l.length;t++)l[t].scan()},t.collectRoots=function(){for(var t=0;t<l.length;t++)l[t].buffered=!1,l[t].collectWhite();l=[]},t.prototype.markGray=function(){if(this.color!=a.gray){this.color=a.gray;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj--,t[n].markGray()}},t.prototype.scan=function(){if(this.color==a.gray)if(this.refCount()+this.refCountAdj>0)this.scanBlack();else{this.color=a.white;for(var t=this.children(),n=0;n<t.length;n++)t[n].scan()}},t.prototype.scanBlack=function(){this.color=a.black;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj++,t[n].color!=a.black&&t[n].scanBlack()},t.prototype.collectWhite=function(){if(this.color==a.white&&!this.buffered){0,this.color=a.black,this.refCountAdj=0;for(var t=this.children(),n=0;n<t.length;n++)t[n].collectWhite();this.free()}},t.NULL=new t("user",1e12,[]),t.collectingCycles=!1,t}(),p=function(){return function(t,n){this.f=t,this.deps=n}}();function d(t,n){return new p(t,n)}function h(t){return t instanceof p?t.deps:[]}function m(t){return t instanceof p?t.f:t}var y=function(){return function(t,n){this.f=t,this.deps=n}}();function v(t,n){return new y(t,n)}function g(t){return t instanceof y?t.deps:[]}function _(t){return t instanceof y?t.f:t}var T=function(){return function(t,n){this.f=t,this.deps=n}}();function S(t,n){return new T(t,n)}function C(t){return t instanceof T?t.deps:[]}function w(t){return t instanceof T?t.f:t}var E=function(){return function(t,n){this.f=t,this.deps=n}}();function x(t,n){return new E(t,n)}function b(t){return t instanceof E?t.deps:[]}function I(t){return t instanceof E?t.f:t}var D=function(){return function(t,n){this.f=t,this.deps=n}}();function R(t,n){return new D(t,n)}function A(t){return t instanceof D?t.deps:[]}function P(t){return t instanceof D?t.f:t}var F=function(){return function(t,n){this.f=t,this.deps=n}}();function N(t,n){return new F(t,n)}function k(t){return t instanceof F?t.deps:[]}function O(t){return t instanceof F?t.f:t}function j(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];n.push(new s(r.getVertex__(),null))}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var U=function(t,n){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function M(t,n){function e(){this.constructor=t}U(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var L=function(){function t(n,e){this.rank=n,this.action=e,this.seq=t.nextSeq++}return t.prototype.toString=function(){return this.seq.toString()},t.nextSeq=0,t}(),G=function(){function t(){this.inCallback=0,this.toRegen=!1,this.prioritizedQ=new r.PriorityQueue(function(t,n){return t.rank.rank<n.rank.rank?1:t.rank.rank>n.rank.rank?-1:t.seq<n.seq?1:t.seq>n.seq?-1:0}),this.entries=new r.Set(function(t){return t.toString()}),this.sampleQ=[],this.lastQ=[],this.postQ=null}return t.prototype.requestRegen=function(){this.toRegen=!0},t.prototype.prioritized=function(t,n){var e=new L(t,n);this.prioritizedQ.enqueue(e),this.entries.add(e)},t.prototype.sample=function(t){this.sampleQ.push(t)},t.prototype.last=function(t){this.lastQ.push(t)},t.prototype.post=function(t,n){for(null==this.postQ&&(this.postQ=[]);this.postQ.length<=t;)this.postQ.push(null);var e=this.postQ[t],r=null===e?n:function(){e(),n()};this.postQ[t]=r},t.prototype.checkRegen=function(){if(this.toRegen){this.toRegen=!1,this.prioritizedQ.clear();for(var t=this.entries.toArray(),n=0;n<t.length;n++)this.prioritizedQ.enqueue(t[n])}},t.prototype.isActive=function(){return!!t.currentTransaction},t.prototype.close=function(){for(;;){for(;this.checkRegen(),!this.prioritizedQ.isEmpty();){var n=this.prioritizedQ.dequeue();this.entries.remove(n),n.action()}var e=this.sampleQ;this.sampleQ=[];for(var r=0;r<e.length;r++)e[r]();if(this.prioritizedQ.isEmpty()&&this.sampleQ.length<1)break}for(r=0;r<this.lastQ.length;r++)this.lastQ[r]();if(this.lastQ=[],null!=this.postQ){for(r=0;r<this.postQ.length;r++)if(null!=this.postQ[r]){var o=t.currentTransaction;try{if(r>0){t.currentTransaction=new t;try{this.postQ[r](),t.currentTransaction.close()}catch(n){throw t.currentTransaction.close(),n}}else t.currentTransaction=null,this.postQ[r]();t.currentTransaction=o}catch(n){throw t.currentTransaction=o,n}}this.postQ=null}},t.onStart=function(n){t.onStartHooks.push(n)},t.run=function(n){var e=t.currentTransaction;if(null===e){if(!t.runningOnStartHooks){t.runningOnStartHooks=!0;try{for(var r=0;r<t.onStartHooks.length;r++)t.onStartHooks[r]()}finally{t.runningOnStartHooks=!1}}t.currentTransaction=new t}try{var o=n();return null===e&&(t.currentTransaction.close(),t.currentTransaction=null),o}catch(n){throw null===e&&(t.currentTransaction.close(),t.currentTransaction=null),n}},t.currentTransaction=null,t.onStartHooks=[],t.runningOnStartHooks=!1,t}(),W=function(){function t(t,n){this.f=_(t),this.out=n,this.out.getVertex__().sources=this.out.getVertex__().sources.concat(j(g(t))),this.accumValid=!1}return t.prototype.send_=function(t){var n=this;this.accumValid?this.accum=this.f(this.accum,t):(G.currentTransaction.prioritized(this.out.getVertex__(),function(){n.out.send_(n.accum),n.accumValid=!1,n.accum=null}),this.accum=t,this.accumValid=!0)},t}(),V=function(){function t(t){this.f=t}return t.prototype.get=function(){return this.f()},t.prototype.map=function(n){var e=this;return new t(function(){return n(e.f())})},t.prototype.lift=function(n,e){var r=this;return new t(function(){return e(r.f(),n.f())})},t.prototype.lift3=function(n,e,r){var o=this;return new t(function(){return r(o.f(),n.f(),e.f())})},t.prototype.lift4=function(n,e,r,o){var i=this;return new t(function(){return o(i.f(),n.f(),e.f(),r.f())})},t}(),q=function(){function t(){}return t.UNIT=new t,t}(),B=function(){function t(){}return t.updates=function(t){return t.getStream__()},t.value=function(n){return G.run(function(){var e=new X;G.currentTransaction.prioritized(e.getVertex__(),function(){e.send_(q.UNIT)});var r=e.snapshot1(n);return t.updates(n).orElse(r)})},t.defer=function(n){return t.split(n.map(function(t){return[t]}))},t.split=function(t){var n=new X(null);return n.setVertex__(new f("split",0,[new s(t.getVertex__(),function(){return t.listen_(n.getVertex__(),function(t){for(var e=function(e){G.currentTransaction.post(e,function(){G.run(function(){n.send_(t[e])})})},r=0;r<t.length;r++)e(r)},!1)})])),n},t}(),z=function(){return function(t){this.hasValue=!1,this.value=null,this.cell=t}}(),Q=function(){return function(){this.f=null,this.f_present=!1,this.a=null,this.a_present=!1}}(),H=function(){function t(t,n){var e=this;this.value=t,n?G.run(function(){return e.setStream(n)}):(this.str=new J,this.vertex=new f("ConstCell",0,[]))}return t.prototype.setStream=function(t){var n=this;this.str=t;var e=this,r=new s(t.getVertex__(),function(){return t.listen_(e.vertex,function(t){null==e.valueUpdate&&G.currentTransaction.last(function(){e.value=e.valueUpdate,e.lazyInitValue=null,e.valueUpdate=null}),e.valueUpdate=t},!1)});this.vertex=new f("Cell",0,[r]),this.vertex.register(f.NULL),G.currentTransaction.last(function(){n.vertex.deregister(f.NULL)})},t.prototype.getVertex__=function(){return this.vertex},t.prototype.getStream__=function(){return this.str},t.prototype.sample=function(){var t=this;return G.run(function(){return t.sampleNoTrans__()})},t.prototype.sampleNoTrans__=function(){return this.value},t.prototype.sampleLazy=function(){var t=this;return G.run(function(){return t.sampleLazyNoTrans__()})},t.prototype.sampleLazyNoTrans__=function(){var t=this,n=new z(t);return G.currentTransaction.sample(function(){n.value=null!=t.valueUpdate?t.valueUpdate:t.sampleNoTrans__(),n.hasValue=!0,n.cell=null}),new V(function(){return n.hasValue?n.value:n.cell.sample()})},t.prototype.map=function(t){var n=this;return G.run(function(){return B.updates(n).map(t).holdLazy(n.sampleLazy().map(m(t)))})},t.prototype.lift=function(n,e){var r=_(e),o=this.map(function(t){return function(n){return r(t,n)}});return t.apply(o,n,j(g(e)))},t.prototype.lift3=function(n,e,r){var o=w(r),i=this.map(function(t){return function(n){return function(e){return o(t,n,e)}}});return t.apply(t.apply(i,n),e,j(C(r)))},t.prototype.lift4=function(n,e,r,o){var i=I(o),u=this.map(function(t){return function(n){return function(e){return function(r){return i(t,n,e,r)}}}});return t.apply(t.apply(t.apply(u,n),e),r,j(b(o)))},t.prototype.lift5=function(n,e,r,o,i){var u=P(i),a=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return u(t,n,e,r,o)}}}}});return t.apply(t.apply(t.apply(t.apply(a,n),e),r),o,j(A(i)))},t.prototype.lift6=function(n,e,r,o,i,u){var a=O(u),s=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return function(i){return a(t,n,e,r,o,i)}}}}}});return t.apply(t.apply(t.apply(t.apply(t.apply(s,n),e),r),o),i,j(k(u)))},t.apply=function(t,n,e){return G.run(function(){var r=new Q,o=new X,i=B.value(t),u=B.value(n),a=new s(i.getVertex__(),function(){return i.listen_(o.getVertex__(),function(t){r.f=t,r.f_present=!0,r.a_present&&o.send_(r.f(r.a))},!1)}),l=new s(u.getVertex__(),function(){return u.listen_(o.getVertex__(),function(t){r.a=t,r.a_present=!0,r.f_present&&o.send_(r.f(r.a))},!1)});return o.setVertex__(new f("apply",0,[a,l].concat(e||[]))),o.coalesce__(function(t,n){return n}).holdLazy(new V(function(){return t.sampleNoTrans__()(n.sampleNoTrans__())}))})},t.switchC=function(t){return G.run(function(){var n=t.sampleLazy().map(function(t){return t.sample()}),e=new X,r=null,o=B.value(t),i=new s(o.getVertex__(),function(){var t=null===r?null:B.value(r).listen_(e.getVertex__(),function(t){return e.send_(t)},!1),n=o.listen_(e.getVertex__(),function(n){r=n,null!==t&&t(),t=B.value(n).listen_(e.getVertex__(),function(t){return e.send_(t)},!1)},!1);return function(){n(),t()}});return e.setVertex__(new f("switchC",0,[i])),e.coalesce__(function(t,n){return n}).holdLazy(n)})},t.switchS=function(t){return G.run(function(){var n=new X,e=function(t){n.send_(t)},r=new s(t.getVertex__(),function(){var r=t.sampleNoTrans__().listen_(n.getVertex__(),e,!1),o=t.getStream__().listen_(n.getVertex__(),function(t){r(),r=t.listen_(n.getVertex__(),e,!0)},!1);return function(){o(),r()}});return n.setVertex__(new f("switchS",0,[r])),n})},t.prototype.listen=function(t){var n=this;return G.run(function(){return B.value(n).listen(t)})},t["fantasy-land/of"]=function(n){return new t(n)},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/ap"]=function(n){return t.apply(n,this)},t}(),Y=function(){return function(t,n){this.h=t,this.target=n}}(),K=function(t){function n(n,e){var r=t.call(this,null,null)||this;return G.run(function(){e&&r.setStream(e),r.lazyInitValue=n}),r}return M(n,t),n.prototype.sampleNoTrans__=function(){return null==this.value&&null!=this.lazyInitValue&&(this.value=this.lazyInitValue.get(),this.lazyInitValue=null),this.value},n}(H),J=function(){function t(t){this.listeners=[],this.firings=[],this.vertex=t||new f("Stream",0,[])}return t.prototype.getVertex__=function(){return this.vertex},t.prototype.map=function(t){var n=this,e=new X(null),r=m(t);return e.vertex=new f("map",0,[new s(this.vertex,function(){return n.listen_(e.vertex,function(t){e.send_(r(t))},!1)})].concat(j(h(t)))),e},t.prototype.mapTo=function(t){var n=this,e=new X(null);return e.vertex=new f("mapTo",0,[new s(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t)},!1)})]),e},t.prototype.orElse=function(t){return this.merge(t,function(t,n){return t})},t.prototype.merge_=function(t){var n=this,e=new X,r=new f("merge",0,[]);return r.sources.push(new s(this.vertex,function(){return n.listen_(r,function(t){e.send_(t)},!1)})),e.vertex.sources=e.vertex.sources.concat([new s(r,function(){return r.register(e.vertex),function(){r.deregister(e.vertex)}}),new s(t.vertex,function(){return t.listen_(e.vertex,function(t){e.send_(t)},!1)})]),e},t.prototype.coalesce__=function(t){var n=this,e=new X,r=new W(t,e);return e.vertex.sources=e.vertex.sources.concat([new s(this.vertex,function(){return n.listen_(e.vertex,function(t){r.send_(t)},!1)})]).concat(j(g(t))),e},t.prototype.merge=function(t,n){var e=this;return G.run(function(){return e.merge_(t).coalesce__(n)})},t.prototype.filter=function(t){var n=this,e=new X(null),r=m(t);return e.vertex=new f("filter",0,[new s(this.vertex,function(){return n.listen_(e.vertex,function(t){r(t)&&e.send_(t)},!1)})].concat(j(h(t)))),e},t.prototype.filterNotNull=function(){var t=this,n=new X(null);return n.vertex=new f("filterNotNull",0,[new s(this.vertex,function(){return t.listen_(n.vertex,function(t){null!==t&&n.send_(t)},!1)})]),n},t.prototype.gate=function(t){return this.snapshot(t,function(t,n){return n?t:null}).filterNotNull()},t.prototype.snapshot1=function(t){var n=this,e=new X(null);return e.vertex=new f("snapshot1",0,[new s(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t.sampleNoTrans__())},!1)}),new s(t.getVertex__(),null)]),e},t.prototype.snapshot=function(t,n){var e=this,r=new X(null),o=_(n);return r.vertex=new f("snapshot",0,[new s(this.vertex,function(){return e.listen_(r.vertex,function(n){r.send_(o(n,t.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null)].concat(j(g(n)))),r},t.prototype.snapshot3=function(t,n,e){var r=this,o=new X(null),i=w(e);return o.vertex=new f("snapshot",0,[new s(this.vertex,function(){return r.listen_(o.vertex,function(e){o.send_(i(e,t.sampleNoTrans__(),n.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(n.getVertex__(),null)].concat(j(C(e)))),o},t.prototype.snapshot4=function(t,n,e,r){var o=this,i=new X(null),u=I(r);return i.vertex=new f("snapshot",0,[new s(this.vertex,function(){return o.listen_(i.vertex,function(r){i.send_(u(r,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(n.getVertex__(),null),new s(e.getVertex__(),null)].concat(j(b(r)))),i},t.prototype.snapshot5=function(t,n,e,r,o){var i=this,u=new X(null),a=P(o);return u.vertex=new f("snapshot",0,[new s(this.vertex,function(){return i.listen_(u.vertex,function(o){u.send_(a(o,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),r.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(n.getVertex__(),null),new s(e.getVertex__(),null),new s(r.getVertex__(),null)].concat(j(A(o)))),u},t.prototype.snapshot6=function(t,n,e,r,o,i){var u=this,a=new X(null),l=O(i);return a.vertex=new f("snapshot",0,[new s(this.vertex,function(){return u.listen_(a.vertex,function(i){a.send_(l(i,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),r.sampleNoTrans__(),o.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(n.getVertex__(),null),new s(e.getVertex__(),null),new s(r.getVertex__(),null),new s(o.getVertex__(),null)].concat(j(k(i)))),a},t.prototype.hold=function(t){return new H(t,this)},t.prototype.holdLazy=function(t){return new K(t,this)},t.prototype.collect=function(t,n){return this.collectLazy(new V(function(){return t}),n)},t.prototype.collectLazy=function(t,n){var e=this;return G.run(function(){var r=new $,o=r.holdLazy(t),i=e.snapshot(o,n),u=i.map(function(t){return t.a}),a=i.map(function(t){return t.b});return r.loop(a),u})},t.prototype.accum=function(t,n){return this.accumLazy(new V(function(){return t}),n)},t.prototype.accumLazy=function(t,n){var e=this;return G.run(function(){var r=new $,o=r.holdLazy(t),i=e.snapshot(o,n);return r.loop(i),i.holdLazy(t)})},t.prototype.once=function(){var t=this;return G.run(function(){return t.gate(t.mapTo(!1).hold(!0))})},t.prototype.listen=function(t){var n=this;return G.run(function(){return n.listen_(f.NULL,t,!1)})},t.prototype.listen_=function(t,n,e){var r=this;this.vertex.register(t)&&G.currentTransaction.requestRegen();var o=new Y(n,t);if(this.listeners.push(o),!e&&0!=this.firings.length){var i=this.firings.slice();G.currentTransaction.prioritized(t,function(){for(var t=0;t<i.length;t++)n(i[t])})}return function(){for(var n=!1,e=0;e<r.listeners.length;e++)if(r.listeners[e]==o){r.listeners.splice(e,1),n=!0;break}n&&r.vertex.deregister(t)}},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/concat"]=function(t){return this.merge(t,function(t,n){return o.Semigroup.test(t)?Object(o.concat)(t,n):t})},t.prototype["fantasy-land/empty"]=function(){return new t},t}(),X=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.setVertex__=function(t){this.vertex=t},n.prototype.send_=function(t){var n=this;if(0==this.vertex.refCount())throw new Error("send() was invoked before listeners were registered");0==this.firings.length&&G.currentTransaction.last(function(){n.firings=[]}),this.firings.push(t);for(var e=this.listeners.slice(),r=function(n){var r=e[n].h;G.currentTransaction.prioritized(e[n].target,function(){G.currentTransaction.inCallback++;try{r(t),G.currentTransaction.inCallback--}catch(t){throw G.currentTransaction.inCallback--,t}})},o=0;o<e.length;o++)r(o)},n}(J),$=function(t){function n(){var n=t.call(this)||this;if(n.assigned__=!1,n.vertex.name="StreamLoop",null===G.currentTransaction)throw new Error("StreamLoop/CellLoop must be used within an explicit transaction");return n}return M(n,t),n.prototype.loop=function(t){var n=this;if(this.assigned__)throw new Error("StreamLoop looped more than once");this.assigned__=!0,this.vertex.addSource(new s(t.getVertex__(),function(){return t.listen_(n.vertex,function(t){n.send_(t)},!1)}))},n}(X),Z=function(t){function n(n){var e=t.call(this)||this;return n||(n=function(t,n){throw new Error("send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.")}),e.coalescer=new W(n,e),e}return M(n,t),n.prototype.send=function(t){var n=this;G.run(function(){if(G.currentTransaction.inCallback>0)throw new Error("You are not allowed to use send() inside a Sodium callback");n.coalescer.send_(t)})},n}(X),tt=function(t){function n(){return t.call(this,null,new $)||this}return M(n,t),n.prototype.loop=function(t){var n=this;G.run(function(){n.getStream__().loop(t.getStream__()),n.lazyInitValue=t.sampleLazy()})},n.prototype.sampleNoTrans__=function(){if(!this.getStream__().assigned__)throw new Error("CellLoop sampled before it was looped");return t.prototype.sampleNoTrans__.call(this)},n}(K),nt=function(t){function n(n,e){return t.call(this,n,new Z(e))||this}return M(n,t),n.prototype.send=function(t){this.getStream__().send(t)},n}(H),et=function(){return function(t,n){this.a=t,this.b=n}}(),rt=function(){return function(){}}(),ot=0,it=function(){return function(t,n){this.t=t,this.sAlarm=n,this.seq=++ot}}(),ut=function(){function t(t){var n=this;this.eventQueue=new r.BSTree(function(t,n){return t.t<n.t?-1:t.t>n.t?1:t.seq<n.seq?-1:t.seq>n.seq?1:0}),G.run(function(){n.impl=t,n.tMinimum=0;var e=new nt(t.now());n.time=e,n.time.listen(function(t){}),G.onStart(function(){for(var r=n.tMinimum=Math.max(n.tMinimum,t.now()),o=function(){var t=null;if(!n.eventQueue.isEmpty()){var o=n.eventQueue.minimum();o.t<=r&&(t=o)}if(null==t)return"break";e.send(t.t),G.run(function(){return t.sAlarm.send_(t.t)})};;){if("break"===o())break}e.send(r)})})}return t.prototype.at=function(t){var n=this,e=null,r=null,o=!1,i=null,u=!1,a=new X(null),l=function(){null!==r&&(r(),n.eventQueue.remove(e)),r=null,e=null,o&&(u||(u=!0,i=t.sampleNoTrans__()),null!==i&&(e=new it(i,a),n.eventQueue.add(e),r=n.impl.setTimer(i,function(){n.tMinimum=Math.max(n.tMinimum,i),G.run(function(){})})))};return a.setVertex__(new f("at",0,[new s(t.getVertex__(),function(){o=!0,u=!1,G.currentTransaction.prioritized(a.getVertex__(),l);var n=t.getStream__().listen_(a.getVertex__(),function(t){i=t,u=!0,l()},!1);return function(){o=!1,l(),n()}})])),a},t}(),at=function(t){function n(){return t.call(this,new st)||this}return M(n,t),n}(ut),st=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(1e3*(t-this.now()),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return.001*Date.now()},n}(rt),lt=function(t){function n(){return t.call(this,new ct)||this}return M(n,t),n}(ut),ct=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return M(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(t-this.now(),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return Date.now()},n}(rt),ft=function(){function t(){}
/*!
     * Convert a function that performs asynchronous I/O taking input A
     * and returning a value of type B into an I/O action of type
     * (sa : Stream<A>) => Stream<B>
     */return t.fromAsync=function(t){return function(n){var e=new X(null);return e.setVertex__(new f("map",0,[new s(n.getVertex__(),function(){return n.listen_(e.getVertex__(),function(n){t(n,function(t){G.run(function(){e.send_(t)})})},!1)})])),e}},t}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0);function o(t,n,e){for(var o=e||r.defaultEquals,i=t.length,u=0;u<i;u++)if(o(t[u],n))return u;return-1}n.indexOf=o,n.lastIndexOf=function(t,n,e){for(var o=e||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],n))return i;return-1},n.contains=function(t,n,e){return o(t,n,e)>=0},n.remove=function(t,n,e){var r=o(t,n,e);return!(r<0||(t.splice(r,1),0))},n.frequency=function(t,n,e){for(var o=e||r.defaultEquals,i=t.length,u=0,a=0;a<i;a++)o(t[a],n)&&u++;return u},n.equals=function(t,n,e){var o=e||r.defaultEquals;if(t.length!==n.length)return!1;for(var i=t.length,u=0;u<i;u++)if(!o(t[u],n[u]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,n,e){if(n<0||n>=t.length||e<0||e>=t.length)return!1;var r=t[n];return t[n]=t[e],t[e]=r,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,n){for(var e=0,r=t;e<r.length;e++)if(!1===n(r[e]))return}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(3);n.arrays=r;var o=e(15);n.Bag=o.default;var i=e(16);n.BSTree=i.default;var u=e(8);n.BSTreeKV=u.default;var a=e(1);n.Dictionary=a.default;var s=e(10);n.Heap=s.default;var l=e(17);n.LinkedDictionary=l.default;var c=e(5);n.LinkedList=c.default;var f=e(18);n.MultiDictionary=f.default;var p=e(11);n.FactoryDictionary=p.default;var d=e(11);n.DefaultDictionary=d.default;var h=e(9);n.Queue=h.default;var m=e(19);n.PriorityQueue=m.default;var y=e(7);n.Set=y.default;var v=e(20);n.Stack=v.default;var g=e(21);n.MultiRootTree=g.default;var _=e(0);n.util=_},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(3),i=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,n){if(r.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||r.isUndefined(t))return!1;var e=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=e,this.lastNode=e;else if(n===this.nElements)this.lastNode.next=e,this.lastNode=e;else if(0===n)e.next=this.firstNode,this.firstNode=e;else{var o=this.nodeAtIndex(n-1);if(null==o)return!1;e.next=o.next,o.next=e}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var n=this.nodeAtIndex(t);if(null!==n)return n.element},t.prototype.indexOf=function(t,n){var e=n||r.defaultEquals;if(r.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(e(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,n){return this.indexOf(t,n)>=0},t.prototype.remove=function(t,n){var e=n||r.defaultEquals;if(this.nElements<1||r.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(e(i.element,t))return null==o?(this.firstNode=i.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(n,e){var o=e||r.defaultEquals;return n instanceof t&&(this.size()===n.size()&&this.equalsAux(this.firstNode,n.firstNode,o))},t.prototype.equalsAux=function(t,n,e){for(;null!==t&&null!==n;){if(!e(t.element,n.element))return!1;t=t.next,n=n.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var n;if(1===this.nElements)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var e=this.nodeAtIndex(t-1);null===e?(n=this.firstNode.element,this.firstNode=this.firstNode.next):e.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=e),null!==e&&null!==e.next&&(n=e.next.element,e.next=e.next.next)}return this.nElements--,n}},t.prototype.forEach=function(t){for(var n=this.firstNode;null!==n&&!1!==t(n.element);)n=n.next},t.prototype.reverse=function(){for(var t=null,n=this.firstNode,e=null;null!==n;)e=n.next,n.next=t,t=n,n=e;e=this.firstNode,this.firstNode=this.lastNode,this.lastNode=e},t.prototype.toArray=function(){for(var t=[],n=this.firstNode;null!==n;)t.push(n.element),n=n.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return o.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var n=this.firstNode,e=0;e<t&&null!=n;e++)n=n.next;return n},t.prototype.createNode=function(t){return{element:t,next:null}},t}();n.default=i},function(t,n,e){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(e(12)):null!=e(13)?(o=[e(12)],void 0===(i="function"==typeof(r=u)?r.apply(n,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var n=__doctest.require("./test/List"),e=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),n.Nil,n.Cons,e.Nothing,e.Just}function r(t){return function(n){return t.concat(n)}}function o(t){return function(n){return t}}function i(t,n){Object.keys(t).forEach(n,t)}function u(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function a(t){return t}function s(t){return function(n){return[t,n]}}function l(n,e){return typeof n==typeof e&&t(n)===t(e)}function c(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,n,e,r){if(!(this instanceof p))return new p(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function m(t,n,e){for(var r=e,o=0;o<n.length;o+=1){var i=n[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function y(t,n){return m(!0,t,n)}function v(t){return m(!1,t,J)}var g=u("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]};function _(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===d?function(t){var n=y([e],t);return null==n&&"function"==typeof t?v([g(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=y([e],n)),null==r&&(r=v([t(n),"prototype",e])),r&&r.bind(n)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+n,e,function(t){return i.every(function(n){var e=r[n]===d?t.constructor:t;return null!=o(n)(e)})});return u.methods=i.reduce(function(t,n){return t[n]=o(n),t},{}),u}var T=_("Setoid",[],{equals:h}),S=_("Ord",[T],{lte:h}),C=_("Semigroupoid",[],{compose:h}),w=_("Category",[C],{id:d}),E=_("Semigroup",[],{concat:h}),x=_("Monoid",[E],{empty:d}),b=_("Group",[x],{invert:h}),I=_("Filterable",[],{filter:h}),D=_("Functor",[],{map:h}),R=_("Bifunctor",[D],{bimap:h}),A=_("Profunctor",[D],{promap:h}),P=_("Apply",[D],{ap:h}),F=_("Applicative",[P],{of:d}),N=_("Chain",[P],{chain:h}),k=_("ChainRec",[N],{chainRec:d}),O=_("Monad",[F,N],{}),j=_("Alt",[D],{alt:h}),U=_("Plus",[j],{zero:d}),M=_("Alternative",[F,U],{}),L=_("Foldable",[],{reduce:h}),G=_("Traversable",[D,L],{traverse:h}),W=_("Extend",[D],{extend:h}),V=_("Comonad",[W],{extract:h}),q=_("Contravariant",[],{contramap:h});function B(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!X(this[n],t[n]))return!1;return!0}function Q(t){for(var n=0;;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!X(this[n],t[n]))return Z(this[n],t[n])}}function H(t){return this.concat(t)}function Y(t){var n={};function e(t){n[t]=this[t]}return i(this,e),i(t,e),n}var K,J={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?X(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?X(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return X(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?X(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":B,"fantasy-land/chainRec":function(t,n){for(var e=[],r={},o={head:n,tail:r};o!==r;){for(var i=r,u=t(c,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?e.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return e},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":z,"fantasy-land/lte":Q,"fantasy-land/concat":H,"fantasy-land/filter":function(t){return this.filter(function(n){return t(n)})},"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){for(var n=[],e=0;e<this.length;e+=1)for(var r=0,o=t(this[e]);r<o.length;r+=1)n.push(o[r]);return n},"fantasy-land/alt":H,"fantasy-land/reduce":function(t,n){for(var e=n,r=0;r<this.length;r+=1)e=t(e,this[r]);return e},"fantasy-land/traverse":function(t,n){var e=this;function o(i,u){switch(u){case 0:return at(t,[]);case 2:return ut(s,n(e[i]),n(e[i+1]));default:var a=2*Math.floor(u/4);return ut(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?ut(r,rt(B,n(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return Q.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return X(this.name,t.name)&&X(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return X(e,Object.keys(t).sort())&&e.every(function(e){return X(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!X(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":Y,"fantasy-land/filter":function(t){var n={};return i(this,function(e){t(this[e])&&(n[e]=this[e])}),n},"fantasy-land/map":function(t){var n={};return i(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return i(this,function(e){u(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":Y,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(n){var e={};return e[r]=n,Y.call(t,e)}},t,n(e[r]))},at(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=c(n);!r.done;)r=t(c,f,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/extend":function(t){var n=this;return function(e){return t(function(t){return n(tt(e,t))})}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},X=(K=[],function(t,n){if(!l(t,n))return!1;if(K.some(function(e){return e[0]===t&&e[1]===n}))return!0;K.push([t,n]);try{return T.test(t)&&T.test(n)&&T.methods.equals(t)(n)}finally{K.pop()}});function $(t,n){return l(t,n)&&!Z(n,t)}var Z=function(){var t=[];return function(n,e){if(!l(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return X(n,e);t.push([n,e]);try{return S.test(n)&&S.test(e)&&S.methods.lte(n)(e)}finally{t.pop()}}}();function tt(t,n){return E.methods.concat(t)(n)}function nt(t){return x.methods.empty(t)()}function et(t,n){return I.methods.filter(n)(t)}function rt(t,n){return D.methods.map(n)(t)}function ot(t,n,e){return R.methods.bimap(e)(t,n)}function it(t,n){return P.methods.ap(n)(t)}function ut(t,n,e){return it(rt(t,n),e)}function at(t,n){return F.methods.of(t)(n)}function st(t,n){return N.methods.chain(n)(t)}function lt(t,n,e){return L.methods.reduce(e)(t,n)}function ct(t,n){var e=lt(function(n,e){return n.push({idx:n.length,x:e,fx:t(e)}),n},[],n),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,n){return t<=n||t!=t};case"string":return function(t,n){return t<=n};default:return Z}}(e[0]);if(e.sort(function(t,n){return r(t.fx,n.fx)?r(n.fx,t.fx)?t.idx-n.idx:-1:1}),Array.isArray(n)){for(var o=0;o<e.length;o+=1)e[o]=e[o].x;return e}var i=n.constructor,u=nt(i);for(o=0;o<e.length;o+=1)u=tt(u,at(i,e[o].x));return u}function ft(t,n,e){return G.methods.traverse(e)(t,n)}function pt(t,n){return W.methods.extend(n)(t)}return{TypeClass:p,Setoid:T,Ord:S,Semigroupoid:C,Category:w,Semigroup:E,Monoid:x,Group:b,Filterable:I,Functor:D,Bifunctor:R,Profunctor:A,Apply:P,Applicative:F,Chain:N,ChainRec:k,Monad:O,Alt:j,Plus:U,Alternative:M,Foldable:L,Traversable:G,Extend:W,Comonad:V,Contravariant:q,equals:X,lt:$,lte:Z,gt:function(t,n){return $(n,t)},gte:function(t,n){return Z(n,t)},min:function(t,n){return Z(t,n)?t:n},max:function(t,n){return Z(t,n)?n:t},compose:function(t,n){return C.methods.compose(n)(t)},id:function(t){return w.methods.id(t)()},concat:tt,empty:nt,invert:function(t){return b.methods.invert(t)()},filter:et,reject:function(t,n){return et(function(n){return!t(n)},n)},map:rt,flip:function(t,n){return D.methods.map(t)(function(t){return function(n){return n(t)}}(n))},bimap:ot,mapLeft:function(t,n){return ot(t,a,n)},promap:function(t,n,e){return A.methods.promap(e)(t,n)},ap:it,lift2:ut,lift3:function(t,n,e,r){return it(it(rt(t,n),e),r)},apFirst:function(t,n){return ut(o,t,n)},apSecond:function(t,n){return ut(o(a),t,n)},of:at,append:function(t,n){return tt(n,at(n.constructor,t))},prepend:function(t,n){return tt(at(n.constructor,t),n)},chain:st,join:function(t){return st(a,t)},chainRec:function(t,n,e){return k.methods.chainRec(t)(n,e)},alt:function(t,n){return j.methods.alt(t)(n)},zero:function(t){return U.methods.zero(t)()},reduce:lt,size:function(t){return Array.isArray(t)?t.length:lt(function(t,n){return t+1},0,t)},elem:function(t,n){return lt(function(n,e){return n||X(t,e)},!1,n)},foldMap:function(t,n,e){return lt(function(t,e){return tt(t,n(e))},nt(t),e)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return lt(function(t,e){return tt(at(n,e),t)},nt(n),t)},sort:function(t){return ct(a,t)},sortBy:ct,takeWhile:function(t,n){var e=!0;return et(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return et(function(n){return e=e||!t(n)},n)},traverse:ft,sequence:function(t,n){return ft(t,a,n)},extend:pt,duplicate:function(t){return pt(a,t)},extract:function(t){return V.methods.extract(t)()},contramap:function(t,n){return q.methods.contramap(n)(t)}}})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(3),i=e(1),u=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var n=this;this.forEach(function(e){return t.contains(e)||n.remove(e),!0})},t.prototype.union=function(t){var n=this;t.forEach(function(t){return n.add(t),!0})},t.prototype.difference=function(t){var n=this;t.forEach(function(t){return n.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var n=!0;return this.forEach(function(e){return!!t.contains(e)||(n=!1,!1)}),n},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(n,e){return t(e)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(9),i=function(){function t(t){this.root=null,this.compare=t||r.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!r.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!r.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var n=this.searchNode(this.root,t);if(null!==n)return n.element},t.prototype.remove=function(t){var n=this.searchNode(this.root,t);return null!==n&&(this.removeNode(n),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(n){return t.push(n),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,n){for(var e=1;null!==t&&0!==e;)(e=this.compare(n,t.element))<0?t=t.leftCh:e>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,n){null===t.parent?this.root=n:t===t.parent.leftCh?t.parent.leftCh=n:t.parent.rightCh=n,null!==n&&(n.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var n=this.minimumAux(t.rightCh);n.parent!==t&&(this.transplant(n,n.rightCh),n.rightCh=t.rightCh,n.rightCh.parent=n),this.transplant(t,n),n.leftCh=t.leftCh,n.leftCh.parent=n}},t.prototype.inorderTraversalAux=function(t,n,e){null===t||e.stop||(this.inorderTraversalAux(t.leftCh,n,e),e.stop||(e.stop=!1===n(t.element),e.stop||this.inorderTraversalAux(t.rightCh,n,e)))},t.prototype.levelTraversalAux=function(t,n){var e=new o.default;for(null!==t&&e.enqueue(t),t=e.dequeue()||null;null!=t;){if(!1===n(t.element))return;null!==t.leftCh&&e.enqueue(t.leftCh),null!==t.rightCh&&e.enqueue(t.rightCh),t=e.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,n,e){null===t||e.stop||(e.stop=!1===n(t.element),e.stop||(this.preorderTraversalAux(t.leftCh,n,e),e.stop||this.preorderTraversalAux(t.rightCh,n,e)))},t.prototype.postorderTraversalAux=function(t,n,e){null===t||e.stop||(this.postorderTraversalAux(t.leftCh,n,e),e.stop||(this.postorderTraversalAux(t.rightCh,n,e),e.stop||(e.stop=!1===n(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var n=null,e=this.root;null!==e;){var r=this.compare(t.element,e.element);if(0===r)return null;r<0?(n=e,e=e.leftCh):(n=e,e=e.rightCh)}return t.parent=n,null===n?this.root=t:this.compare(t.element,n.element)<0?n.leftCh=t:n.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();n.default=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(5),o=function(){function t(){this.list=new r.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,n){return this.list.contains(t,n)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(3),i=function(){function t(t){this.data=[],this.compare=t||r.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,n){return n>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[n])<=0?t:n},t.prototype.siftUp=function(t){for(var n=this.parentIndex(t);t>0&&this.compare(this.data[n],this.data[t])>0;)o.swap(this.data,n,t),t=n,n=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));n>=0&&this.compare(this.data[t],this.data[n])>0;)o.swap(this.data,n,t),t=n,n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!r.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var n=r.compareToEquals(this.compare);return o.contains(this.data,t,n)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){o.forEach(this.data,t)},t}();n.default=i},function(t,n,e){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),u=e(0),a=function(t){function n(n,e){var r=t.call(this,e)||this;return r.defaultFactoryFunction=n,r}return o(n,t),n.prototype.setDefault=function(n,e){var r=t.prototype.getValue.call(this,n);return u.isUndefined(r)?(this.setValue(n,e),e):r},n.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},n}(i.default);n.default=a},function(t,n,e){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=e(13)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(n,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},function(t,n){(function(n){t.exports=n}).call(this,{})},function(t,n,e){var r={};!function(t){"use strict";var n=function(t){this.compose=t},e=new n(function(t){return function(n){return function(e){return t(n(e))}}});t.compose=function(t){return t.compose},t.Semigroupoid=n,t.semigroupoidFn=e}(r["Control.Semigroupoid"]=r["Control.Semigroupoid"]||{}),function(t){"use strict";var n=r["Control.Semigroupoid"],e=function(t,n){this.Semigroupoid0=t,this.identity=n},o=new e(function(){return n.semigroupoidFn},function(t){return t});t.Category=e,t.identity=function(t){return t.identity},t.categoryFn=o}(r["Control.Category"]=r["Control.Category"]||{}),function(t){"use strict";(r["Data.Boolean"]=r["Data.Boolean"]||{}).otherwise=!0}(),function(t){"use strict";r["Control.Category"],r["Data.Boolean"],r["Data.Ord"],r["Data.Ring"];t.const=function(t){return function(n){return t}}}(r["Data.Function"]=r["Data.Function"]||{}),function(t){"use strict";(r["Data.Functor"]=r["Data.Functor"]||{}).arrayMap=function(t){return function(n){for(var e=n.length,r=new Array(e),o=0;o<e;o++)r[o]=t(n[o]);return r}}}(),function(t){"use strict";var n=r["Data.Functor"],e=(r["Control.Semigroupoid"],r["Data.Function"],r["Data.Unit"],function(t){this.map=t}),o=new e(n.arrayMap);t.Functor=e,t.map=function(t){return t.map},t.functorArray=o}(r["Data.Functor"]=r["Data.Functor"]||{}),function(t){"use strict";r["Control.Apply"],r["Control.Category"],r["Data.Function"],r["Data.Functor"];t.Apply=function(t,n){this.Functor0=t,this.apply=n},t.apply=function(t){return t.apply}}(r["Control.Apply"]=r["Control.Apply"]||{}),function(t){"use strict";r["Control.Apply"],r["Data.Functor"],r["Data.Unit"];t.Applicative=function(t,n){this.Apply0=t,this.pure=n},t.pure=function(t){return t.pure}}(r["Control.Applicative"]=r["Control.Applicative"]||{}),function(t){"use strict";t.foldrArray=function(t){return function(n){return function(e){for(var r=n,o=e.length-1;o>=0;o--)r=t(e[o])(r);return r}}},t.foldlArray=function(t){return function(n){return function(e){for(var r=n,o=e.length,i=0;i<o;i++)r=t(r)(e[i]);return r}}}}(r["Data.Foldable"]=r["Data.Foldable"]||{}),function(t){"use strict";r["Data.Semigroup"],r["Data.Symbol"],r["Data.Unit"],r["Data.Void"],r["Record.Unsafe"],r["Type.Data.RowList"];t.append=function(t){return t.append}}(r["Data.Semigroup"]=r["Data.Semigroup"]||{}),function(t){"use strict";r["Data.Boolean"],r["Data.Eq"],r["Data.EuclideanRing"],r["Data.Ord"],r["Data.Ordering"],r["Data.Semigroup"],r["Data.Symbol"],r["Data.Unit"],r["Record.Unsafe"],r["Type.Data.RowList"];t.mempty=function(t){return t.mempty}}(r["Data.Monoid"]=r["Data.Monoid"]||{}),function(t){"use strict";r["Control.Alt"],r["Control.Alternative"],r["Control.Applicative"],r["Control.Apply"],r["Control.Bind"],r["Control.Category"],r["Control.Extend"],r["Control.Monad"],r["Control.MonadZero"],r["Control.Plus"],r["Data.Bounded"],r["Data.Eq"];var n=r["Data.Function"],e=r["Data.Functor"],o=(r["Data.Functor.Invariant"],r["Data.Monoid"],r["Data.Ord"],r["Data.Ordering"],r["Data.Semigroup"],r["Data.Show"],r["Data.Unit"],r.Prelude,function(){function t(){}return t.value=new t,t}()),i=function(){function t(t){this.value0=t}return t.create=function(n){return new t(n)},t}(),u=function(t){return function(n){return function(e){if(e instanceof o)return t;if(e instanceof i)return n(e.value0);throw new Error("Failed pattern match at Data.Maybe line 218, column 1 - line 218, column 51: "+[t.constructor.name,n.constructor.name,e.constructor.name])}}},a=u(!1)(n.const(!0)),s=new e.Functor(function(t){return function(n){return n instanceof i?new i(t(n.value0)):o.value}});t.Nothing=o,t.Just=i,t.maybe=u,t.isJust=a,t.fromJust=function(t){return function(t){return function(){if(t instanceof i)return t.value0;throw new Error("Failed pattern match at Data.Maybe line 269, column 1 - line 269, column 46: "+[t.constructor.name])}()}},t.functorMaybe=s}(r["Data.Maybe"]=r["Data.Maybe"]||{}),function(t){"use strict";var n=r["Data.Foldable"],e=(r["Control.Alt"],r["Control.Applicative"],r["Control.Apply"],r["Control.Bind"],r["Control.Category"],r["Control.Plus"],r["Control.Semigroupoid"],r["Data.Eq"],r["Data.Function"],r["Data.Functor"],r["Data.HeytingAlgebra"],r["Data.Maybe"],r["Data.Maybe.First"],r["Data.Maybe.Last"],r["Data.Monoid"]),o=(r["Data.Monoid.Additive"],r["Data.Monoid.Conj"],r["Data.Monoid.Disj"],r["Data.Monoid.Dual"],r["Data.Monoid.Endo"],r["Data.Monoid.Multiplicative"],r["Data.Newtype"],r["Data.Ord"],r["Data.Ordering"],r["Data.Semigroup"]),i=(r["Data.Semiring"],r["Data.Unit"],r.Prelude,function(t,n,e){this.foldMap=t,this.foldl=n,this.foldr=e}),u=function(t){return t.foldr},a=function(t){return function(n){return function(r){return u(t)(function(t){return function(e){return o.append(n.Semigroup0())(r(t))(e)}})(e.mempty(n))}}},s=new i(function(t){return a(s)(t)},n.foldlArray,n.foldrArray);t.Foldable=i,t.foldr=u,t.foldl=function(t){return t.foldl},t.foldMap=function(t){return t.foldMap},t.foldMapDefaultR=a,t.foldableArray=s}(r["Data.Foldable"]=r["Data.Foldable"]||{}),function(t){"use strict";t.mkFn2=function(t){return function(n,e){return t(n)(e)}},t.mkFn3=function(t){return function(n,e,r){return t(n)(e)(r)}},t.mkFn5=function(t){return function(n,e,r,o,i){return t(n)(e)(r)(o)(i)}},t.runFn2=function(t){return function(n){return function(e){return t(n,e)}}}}(r["Data.Function.Uncurried"]=r["Data.Function.Uncurried"]||{}),function(t){"use strict";var n=r["Data.Function.Uncurried"];r["Data.Unit"];t.runFn1=function(t){return t},t.mkFn2=n.mkFn2,t.mkFn3=n.mkFn3,t.mkFn5=n.mkFn5,t.runFn2=n.runFn2}(r["Data.Function.Uncurried"]=r["Data.Function.Uncurried"]||{}),function(t){"use strict";t.null=null,t.notNull=function(t){return t}}(r["Data.Nullable"]=r["Data.Nullable"]||{}),function(t){"use strict";var n=r["Data.Nullable"],e=(r["Control.Semigroupoid"],r["Data.Eq"],r["Data.Function"],r["Data.Function.Uncurried"],r["Data.Maybe"]),o=(r["Data.Ord"],r["Data.Show"],r.Prelude,e.maybe(n.null)(n.notNull));t.toNullable=o}(r["Data.Nullable"]=r["Data.Nullable"]||{}),function(t){"use strict";(r["Data.Traversable"]=r["Data.Traversable"]||{}).traverseArrayImpl=function(){function t(t){return[t]}function n(t){return function(n){return[t,n]}}function e(t){return function(n){return function(e){return[t,n,e]}}}function r(t){return function(n){return t.concat(n)}}return function(o){return function(i){return function(u){return function(a){return function(s){return function l(c,f){switch(f-c){case 0:return u([]);case 1:return i(t)(a(s[c]));case 2:return o(i(n)(a(s[c])))(a(s[c+1]));case 3:return o(o(i(e)(a(s[c])))(a(s[c+1])))(a(s[c+2]));default:var p=c+2*Math.floor((f-c)/4);return o(i(r)(l(c,p)))(l(p,f))}}(0,s.length)}}}}}}()}(),function(t){"use strict";var n=r["Data.Traversable"],e=r["Control.Applicative"],o=r["Control.Apply"],i=r["Control.Category"],u=r["Data.Foldable"],a=r["Data.Functor"],s=(r["Data.Maybe"],r["Data.Maybe.First"],r["Data.Maybe.Last"],r["Data.Monoid.Additive"],r["Data.Monoid.Conj"],r["Data.Monoid.Disj"],r["Data.Monoid.Dual"],r["Data.Monoid.Multiplicative"],r["Data.Traversable.Accum"],r["Data.Traversable.Accum.Internal"],r.Prelude,function(t,n,e,r){this.Foldable1=t,this.Functor0=n,this.sequence=e,this.traverse=r}),l=function(t){return t.traverse},c=function(t){return function(n){return l(t)(n)(i.identity(i.categoryFn))}},f=new s(function(){return u.foldableArray},function(){return a.functorArray},function(t){return c(f)(t)},function(t){return n.traverseArrayImpl(o.apply(t.Apply0()))(a.map(t.Apply0().Functor0()))(e.pure(t))});t.Traversable=s,t.traverse=l,t.sequence=function(t){return t.sequence},t.sequenceDefault=c,t.traversableArray=f}(r["Data.Traversable"]=r["Data.Traversable"]||{}),function(t){"use strict";(r["Effect.Random"]=r["Effect.Random"]||{}).random=Math.random}(),function(t){"use strict";var n=r["Effect.Random"];r["Control.Applicative"],r["Control.Bind"],r["Data.Function"],r["Data.Functor"],r["Data.Int"],r["Data.Ord"],r["Data.Ring"],r["Data.Semiring"],r.Effect,r.Prelude;t.randomRange=function(t){return function(e){return function(){return n.random()*(e-t)+t}}}}(r["Effect.Random"]=r["Effect.Random"]||{}),function(t){"use strict";t.mkEffectFn1=function(t){return function(n){return t(n)()}},t.runEffectFn1=function(t){return function(n){return function(){return t(n)}}},t.runEffectFn2=function(t){return function(n){return function(e){return function(){return t(n,e)}}}}}(r["Effect.Uncurried"]=r["Effect.Uncurried"]||{}),function(t){"use strict";var n=r["Effect.Uncurried"];r.Effect;t.mkEffectFn1=n.mkEffectFn1,t.runEffectFn1=n.runEffectFn1,t.runEffectFn2=n.runEffectFn2}(r["Effect.Uncurried"]=r["Effect.Uncurried"]||{}),function(t){"use strict";(r["Effect.Unsafe"]=r["Effect.Unsafe"]||{}).unsafePerformEffect=function(t){return t()}}(),function(t){"use strict";var n=r["Effect.Unsafe"];r.Effect;t.unsafePerformEffect=n.unsafePerformEffect}(r["Effect.Unsafe"]=r["Effect.Unsafe"]||{}),function(t){"use strict";r["Data.EuclideanRing"],r["Data.Ring"],r["Game.Types.IO"],r.Prelude;var n={ballRadius:7,ballSpeed:1,paddleWidth:20,paddleHeight:130,paddleMargin:30,canvasWidth:1024,canvasHeight:768},e=n.ballRadius,o=n.paddleMargin,i=n.canvasWidth-n.paddleMargin-n.paddleWidth,u=n.paddleHeight/2,a=u,s=n.canvasHeight-u,l=n.canvasWidth-n.ballRadius,c=n.canvasHeight-n.ballRadius,f=n.ballRadius;t.constants=n,t.topWall=c,t.bottomWall=f,t.rightWall=l,t.leftWall=e,t.paddle1x=o,t.paddle2x=i,t.paddleHalfHeight=u,t.paddleBottomY=a,t.paddleTopY=s}(r["Game.Constants"]=r["Game.Constants"]||{}),function(t){"use strict";r["Data.Show"],r.Prelude;var n=function(){function t(){}return t.value=new t,t}(),e=function(){function t(){}return t.value=new t,t}(),o=function(){function t(){}return t.value=new t,t}(),i=function(){function t(){}return t.value=new t,t}();t.TopWall=n,t.LeftWall=e,t.BottomWall=o,t.RightWall=i}(r["Game.Types.Environment"]=r["Game.Types.Environment"]||{}),function(t){"use strict";r["Data.Show"],r["Game.Types.Basic"],r.Prelude;var n=function(){function t(){}return t.value=new t,t}(),e=function(){function t(){}return t.value=new t,t}();t.Paddle1=n,t.Paddle2=e}(r["Game.Types.Paddle"]=r["Game.Types.Paddle"]||{}),function(t){"use strict";r["Data.Semigroup"],r["Data.Show"],r["Data.Symbol"],r["Game.Types.Basic"],r["Game.Types.Environment"],r["Game.Types.Paddle"],r.Prelude;var n=function(){function t(t,n){this.value0=t,this.value1=n}return t.create=function(n){return function(e){return new t(n,e)}},t}(),e=function(){function t(t,n){this.value0=t,this.value1=n}return t.create=function(n){return function(e){return new t(n,e)}},t}();t.CollisionWall=n,t.CollisionPaddle=e,t.getCollisionInfo=function(t){if(t instanceof n)return t.value1;if(t instanceof e)return{hitPoint:t.value1.hitPoint,timeDiff:t.value1.timeDiff};throw new Error("Failed pattern match at Game.Types.Collision line 30, column 1 - line 30, column 50: "+[t.constructor.name])}}(r["Game.Types.Collision"]=r["Game.Types.Collision"]||{}),function(t){"use strict";r["Data.Eq"],r["Data.Show"],r["Game.Types.Basic"],r.Prelude;var n=function(){function t(){}return t.value=new t,t}(),e=function(){function t(){}return t.value=new t,t}(),o=function(){function t(){}return t.value=new t,t}(),i=function(){function t(){}return t.value=new t,t}();t.UP=n,t.DOWN=e,t.NEUTRAL=o,t.SERVE=i}(r["Game.Types.Controller"]=r["Game.Types.Controller"]||{}),function(t){"use strict";r["Data.Semigroup"],r["Data.Show"],r["Game.Types.Basic"],r["Game.Types.Collision"],r["Game.Types.Controller"],r.Prelude;var n=function(){function t(t){this.value0=t}return t.create=function(n){return new t(n)},t}(),e=function(){function t(t,n){this.value0=t,this.value1=n}return t.create=function(n){return function(e){return new t(n,e)}},t}(),o=function(){function t(t,n){this.value0=t,this.value1=n}return t.create=function(n){return function(e){return new t(n,e)}},t}();t.PlainTick=n,t.ControllerTick=e,t.CollisionTick=o}(r["Game.Types.Tick"]=r["Game.Types.Tick"]||{}),function(t){"use strict";e(2);t.sampleImpl=function(t){return t.sample()}}(r["SodiumFRP.Cell"]=r["SodiumFRP.Cell"]||{}),function(t){const n=e(2),r=n.Cell,o=(n.CellSink,n.CellLoop,n.Stream,n.StreamSink),i=n.StreamLoop;t.newCellImpl=function(t,n){return new r(t,n)},t.newStreamLoopImpl=function(){return new i},t.newStreamSinkImpl=function(t){return new o(t)},t.listenStreamImpl=function(t,n){var e=t.listen(n);return function(){e()}},t.sendStreamImpl=function(t,n){t.send(n)},t.mapStreamImpl=function(t,n){return n["fantasy-land/map"](t)},t.mapCellImpl=function(t,n){return n["fantasy-land/map"](t)},t.applyImpl=function(t,n){return n["fantasy-land/ap"](t)}}(r["SodiumFRP.Class"]=r["SodiumFRP.Class"]||{}),function(t){"use strict";(r["Unsafe.Coerce"]=r["Unsafe.Coerce"]||{}).unsafeCoerce=function(t){return t}}(),function(t){"use strict";var n=r["Unsafe.Coerce"];t.unsafeCoerce=n.unsafeCoerce}(r["Unsafe.Coerce"]=r["Unsafe.Coerce"]||{}),function(t){"use strict";var n=r["SodiumFRP.Class"],e=(r["Control.Alt"],r["Control.Applicative"]),o=r["Control.Apply"],i=r["Data.Function.Uncurried"],u=r["Data.Functor"],a=r["Data.Maybe"],s=(r["Data.Monoid"],r["Data.Nullable"]),l=(r["Data.Semigroup"],r.Effect,r["Effect.Uncurried"]),c=(r.Prelude,r["Unsafe.Coerce"]),f=function(t){this.listen=t},p=function(t){this.send=t},d=function(t){this.toStream=t},h=function(t){this.toCell=t},m=new d(c.unsafeCoerce),y=new d(c.unsafeCoerce),v=new d(c.unsafeCoerce),g=new p(l.runEffectFn2(n.sendStreamImpl)),_=n.newStreamLoopImpl,T=new f(function(t){return function(e){return function(){return n.listenStreamImpl(t,l.mkEffectFn1(e))}}}),S=new u.Functor(i.runFn2(n.mapStreamImpl)),C=new u.Functor(i.runFn2(n.mapCellImpl)),w=new h(c.unsafeCoerce),E=new o.Apply(function(){return C},i.runFn2(n.applyImpl)),x=new e.Applicative(function(){return E},i.runFn1(n.newCellImpl));t.SodiumStream=d,t.newStreamSink=function(t){return function(){return n.newStreamSinkImpl(s.toNullable(u.map(a.functorMaybe)(i.mkFn2)(t)))}},t.newStreamLoop=_,t.toStream=function(t){return t.toStream},t.SodiumCell=h,t.toCell=function(t){return t.toCell},t.Listenable=f,t.listen=function(t){return t.listen},t.Sendable=p,t.send=function(t){return t.send},t.streamToStream=m,t.cellToCell=w,t.streamSinkToStream=y,t.streamLoopToStream=v,t.listenStream=T,t.sendStream=g,t.functorStream=S,t.functorCell=C,t.applyCell=E,t.applicativeCell=x}(r["SodiumFRP.Class"]=r["SodiumFRP.Class"]||{}),function(t){"use strict";var n=r["SodiumFRP.Cell"],e=(r["Data.Function.Uncurried"],r.Effect,r["Effect.Uncurried"],r.Prelude,r["SodiumFRP.Class"]);t.sample=function(t){return function(r){return function(){return n.sampleImpl(e.toCell(t)(r))}}}}(r["SodiumFRP.Cell"]=r["SodiumFRP.Cell"]||{}),function(t){"use strict";const n=e(2).Operational;t.updatesImpl=function(t){return n.updates(t)},t.deferImpl=function(t){return n.defer(t)}}(r["SodiumFRP.Operational"]=r["SodiumFRP.Operational"]||{}),function(t){"use strict";var n=r["SodiumFRP.Operational"],e=(r["Data.Function.Uncurried"],r.Effect,r["Effect.Uncurried"],r["SodiumFRP.Class"]);t.updates=function(t){return function(r){return n.updatesImpl(e.toCell(t)(r))}},t.defer=function(t){return function(r){return n.deferImpl(e.toStream(t)(r))}}}(r["SodiumFRP.Operational"]=r["SodiumFRP.Operational"]||{}),function(t){"use strict";e(2).Tuple2;t.orElseImpl=function(t,n){return t.orElse(n)},t.filterImpl=function(t,n){return n.filter(t)},t.snapshotImpl=function(t,n,e){return n.snapshot(e,t)},t.snapshot3Impl=function(t,n,e,r){return n.snapshot3(e,r,t)},t.snapshot5Impl=function(t,n,e,r,o,i){return n.snapshot5(e,r,o,i,t)},t.holdImpl=function(t,n){return t.hold(n)},t.accumImpl=function(t,n,e){return e.accum(n,t)},t.loopStreamImpl=function(t,n){t.loop(n)}}(r["SodiumFRP.Stream"]=r["SodiumFRP.Stream"]||{}),function(t){"use strict";var n=r["SodiumFRP.Stream"],e=r["Data.Function.Uncurried"],o=(r["Data.Functor"],r.Effect,r["Effect.Uncurried"],r["Effect.Unsafe"],r.Prelude,r["SodiumFRP.Class"]);t.orElse=function(t){return function(e){return function(r){return n.orElseImpl(o.toStream(t)(e),o.toStream(t)(r))}}},t.filter=function(t){return function(e){return function(r){return n.filterImpl(e,o.toStream(t)(r))}}},t.snapshot=function(t){return function(r){return function(i){return function(u){return function(a){return n.snapshotImpl(e.mkFn2(i),o.toStream(t)(u),o.toCell(r)(a))}}}}},t.snapshot3=function(t){return function(r){return function(i){return function(u){return function(a){return function(s){return n.snapshot3Impl(e.mkFn3(i),o.toStream(t)(u),o.toCell(r)(a),o.toCell(r)(s))}}}}}},t.snapshot5=function(t){return function(r){return function(i){return function(u){return function(a){return function(s){return function(l){return function(c){return n.snapshot5Impl(e.mkFn5(i),o.toStream(t)(u),o.toCell(r)(a),o.toCell(r)(s),o.toCell(r)(l),o.toCell(r)(c))}}}}}}}},t.hold=function(t){return function(e){return function(r){return function(){return n.holdImpl(o.toStream(t)(e),r)}}}},t.accum=function(t){return function(r){return function(i){return function(u){return n.accumImpl(e.mkFn2(r),i,o.toStream(t)(u))}}}},t.loopStream=function(t){return function(e){return function(r){return function(){return n.loopStreamImpl(e,o.toStream(t)(r))}}}}}(r["SodiumFRP.Stream"]=r["SodiumFRP.Stream"]||{}),function(t){"use strict";r["Control.Applicative"],r["Control.Bind"],r["Data.Function"];var n=r["Data.Functor"],e=r["Data.Maybe"],o=(r.Effect,r["Partial.Unsafe"],r.Prelude,r["SodiumFRP.Cell"]),i=r["SodiumFRP.Class"],u=r["SodiumFRP.Operational"],a=r["SodiumFRP.Stream"];t.justStream=function(t){return n.map(i.functorStream)(e.fromJust())(a.filter(i.streamToStream)(e.isJust)(t))},t.accumSingleHistory=function(t){var n=function(t){return function(n){return{prev:n.curr,curr:t}}};return function(){var e=o.sample(i.cellToCell)(t)(),r=u.updates(i.cellToCell)(t);return a.accum(i.streamToStream)(n)({prev:e,curr:e})(r)}}}(r["Game.Utils.Sodium"]=r["Game.Utils.Sodium"]||{}),function(t){"use strict";const n=e(2);t.runTransactionImpl=function(t){return n.Transaction.run(t)}}(r["SodiumFRP.Transaction"]=r["SodiumFRP.Transaction"]||{}),function(t){"use strict";var n=r["SodiumFRP.Transaction"],e=(r.Effect,r["Effect.Uncurried"].runEffectFn1(n.runTransactionImpl));t.runTransaction=e}(r["SodiumFRP.Transaction"]=r["SodiumFRP.Transaction"]||{}),function(t){"use strict";r["Control.Applicative"],r["Control.Bind"],r["Data.Eq"];var n=r["Data.Functor"],e=r["Data.Maybe"],o=(r.Effect,r["Game.Types.Basic"],r["Game.Types.Collision"],r["Game.Types.Controller"]),i=r["Game.Types.Tick"],u=r["Game.Utils.Sodium"],a=(r.Prelude,r["SodiumFRP.Class"]),s=r["SodiumFRP.Stream"],l=(r["SodiumFRP.Transaction"],function(t){return function(n){return s.snapshot(a.streamToStream)(a.cellToCell)(i.CollisionTick.create)(n)(t)}}),c=function(t){return"up"===t?new e.Just(o.UP.value):"down"===t?new e.Just(o.DOWN.value):"neutral"===t?new e.Just(o.NEUTRAL.value):"serve"===t?new e.Just(o.SERVE.value):e.Nothing.value},f=function(t){return function(e){var r=u.justStream(n.map(a.functorStream)(c)(e));return s.snapshot(a.streamToStream)(a.cellToCell)(function(t){return function(n){return new i.ControllerTick(t,n)}})(r)(t)}};t.getTicks=function(t){return function(e){return function(r){return function(o){var u=n.map(a.functorStream)(function(t){return new i.PlainTick(t)})(t);return function(){var n=s.hold(a.streamToStream)(t)(0)(),i=l(n)(e),c=f(n)(r),p=f(n)(o);return{sBall:s.orElse(a.streamToStream)(c)(s.orElse(a.streamToStream)(i)(u)),sPaddle1:s.orElse(a.streamToStream)(c)(s.orElse(a.streamToStream)(i)(u)),sPaddle2:s.orElse(a.streamToStream)(p)(s.orElse(a.streamToStream)(i)(u))}}}}}},t.getCollisionTick=l,t.getControllerTick=f,t.toTime=function(t){if(t instanceof i.PlainTick)return t.value0;if(t instanceof i.ControllerTick)return t.value1;if(t instanceof i.CollisionTick)return t.value1;throw new Error("Failed pattern match at Game.Tick line 50, column 10 - line 53, column 33: "+[t.constructor.name])},t.convertController=c}(r["Game.Tick"]=r["Game.Tick"]||{}),function(t){"use strict";var n;t.assignLibImpl=function(t){n=t},t.ball_traj_posImpl=function(t,e,r,o){return n.ball_traj_pos(t,e,r,o)},t.ball_traj_timeImpl=function(t,e,r,o){return n.ball_traj_time(t,e,r,o)},t.paddle_traj_posImpl=function(t,e,r,o,i,u){return n.paddle_traj_pos(t,e,r,o,i,u)},t.paddle_traj_timeImpl=function(t,e,r,o){return n.ball_traj_time(t,e,r,o)}}(r["Game.FFI"]=r["Game.FFI"]||{}),function(t){"use strict";var n=r["Game.FFI"];r["Data.Function.Uncurried"],r.Effect,r["Effect.Uncurried"],r["Game.Types.Basic"],r.Prelude;t.assignLib=function(t){return function(){return n.assignLibImpl(t)}},t.ball_traj_pos=function(t){return function(e){return function(r){return function(o){return n.ball_traj_posImpl(t,e,r,o)}}}},t.ball_traj_time=function(t){return function(e){return function(r){return function(o){return n.ball_traj_timeImpl(t,e,r,o)}}}},t.paddle_traj_pos=function(t){return function(e){return function(r){return function(o){return function(i){return function(u){return n.paddle_traj_posImpl(t,e,r,o,i,u)}}}}}},t.paddle_traj_time=function(t){return function(e){return function(r){return function(o){return n.paddle_traj_timeImpl(t,e,r,o)}}}}}(r["Game.FFI"]=r["Game.FFI"]||{}),function(t){"use strict";r["Data.Semiring"];var n=r["Game.Constants"],e=r["Game.FFI"],o=(r["Game.Types.Basic"],r.Prelude,function(){function t(t,n,e){this.value0=t,this.value1=n,this.value2=e}return t.create=function(n){return function(e){return function(r){return new t(n,e,r)}}},t}()),i=function(){function t(t,n,e,r){this.value0=t,this.value1=n,this.value2=e,this.value3=r}return t.create=function(n){return function(e){return function(r){return function(o){return new t(n,e,r,o)}}}},t}(),u=function(t,n,e){this.posAtTime=t,this.timeAtX=n,this.timeAtY=e},a=function(t){return t.timeAtY},s=function(t){return t.timeAtX},l=function(t){return t.posAtTime},c=new u(function(t){return function(r){return{x:t.value2.x,y:e.paddle_traj_pos(r)(t.value1)(t.value2.y)(t.value0)(n.paddleBottomY)(n.paddleTopY)}}},function(t){return function(n){return t.value0}},function(t){return function(n){return e.paddle_traj_time(n)(t.value1)(t.value2.x)(t.value0)}}),f=new u(function(t){return function(n){return{x:e.ball_traj_pos(n)(t.value2.x*t.value1)(t.value3.x)(t.value0),y:e.ball_traj_pos(n)(t.value2.y*t.value1)(t.value3.y)(t.value0)}}},function(t){return function(n){return e.ball_traj_time(n)(t.value2.x*t.value1)(t.value3.x)(t.value0)}},function(t){return function(n){return e.ball_traj_time(n)(t.value2.y*t.value1)(t.value3.y)(t.value0)}});t.posAtTime=l,t.timeAtX=s,t.timeAtY=a,t.Trajectory=u,t.getXforY=function(t){return function(n){return function(e){return l(t)(n)(a(t)(n)(e)).x}}},t.getYforX=function(t){return function(n){return function(e){return l(t)(n)(s(t)(n)(e)).y}}},t.BallTrajectory=i,t.PaddleTrajectory=o,t.ballTrajectory=f,t.paddleTrajectory=c}(r["Game.Trajectory"]=r["Game.Trajectory"]||{}),function(t){"use strict";t.cos=Math.cos,t.sin=Math.sin,t.pi=Math.PI}(r.Math=r.Math||{}),function(t){"use strict";var n=r.Math;t.cos=n.cos,t.sin=n.sin,t.pi=n.pi}(r.Math=r.Math||{}),function(t){"use strict";r["Data.Either"],r["Data.EuclideanRing"],r["Data.Function"];var n,e,o=r["Data.Functor"],i=(r["Data.Maybe"],r["Data.Ord"],r["Data.Ring"],r["Data.Semiring"],r.Effect,r["Effect.Console"],r["Effect.Random"]),u=r["Effect.Unsafe"],a=r["Game.Constants"],s=(r["Game.Tick"],r["Game.Trajectory"]),l=(r["Game.Types.Ball"],r["Game.Types.Basic"],r["Game.Types.Collision"]),c=r["Game.Types.Controller"],f=r["Game.Types.Environment"],p=r["Game.Types.Tick"],d=r.Math,h=(r.Prelude,r["SodiumFRP.Cell"],r["SodiumFRP.Class"]),m=(r["SodiumFRP.Operational"],r["SodiumFRP.Stream"]),y=(r["SodiumFRP.Transaction"],n={x:0,y:0},{pos:e={x:a.constants.canvasWidth/2,y:a.constants.canvasHeight/2},vel:n,traj:new s.BallTrajectory(0,a.constants.ballSpeed,n,e)}),v=function(t){return{x:d.cos(t),y:-d.sin(t)}},g=function(t){return function(n){var e,r,o,h,m,g,_=function(t){return function(n){return{pos:function(t){return function(n){return s.posAtTime(s.ballTrajectory)(n)(t)}}(t)(n.traj),traj:n.traj,vel:n.vel}}};if(t instanceof p.PlainTick)return _(t.value0)(n);if(t instanceof p.ControllerTick)return t.value0 instanceof c.SERVE?(e=t.value1,r=u.unsafePerformEffect(i.randomRange(-.1)(.1)),o=u.unsafePerformEffect(i.randomRange(0)(1))>.5?2:1,h=v(d.pi*o+r),{pos:m={x:a.constants.canvasWidth/2,y:a.constants.canvasHeight/2},vel:h,traj:new s.BallTrajectory(e,a.constants.ballSpeed,h,m)}):_(t.value1)(n);if(t instanceof p.CollisionTick&&t.value0 instanceof l.CollisionWall&&t.value0.value0 instanceof f.LeftWall)return y;if(t instanceof p.CollisionTick&&t.value0 instanceof l.CollisionWall&&t.value0.value0 instanceof f.RightWall)return y;if(t instanceof p.CollisionTick)return _(t.value1)((g=t.value0,function(t){return function(n){return{pos:n.pos,traj:function(t){return function(n){return function(e){var r=l.getCollisionInfo(t),o=n-r.timeDiff;return new s.BallTrajectory(o,a.constants.ballSpeed,e,r.hitPoint)}}}(g)(t)(n.vel),vel:n.vel}}})(t.value1)(function(t){return function(n){return{pos:n.pos,traj:n.traj,vel:function(t){return function(n){if(t instanceof l.CollisionWall&&t.value0 instanceof f.TopWall)return{x:n.x,y:-1*n.y};if(t instanceof l.CollisionWall&&t.value0 instanceof f.BottomWall)return{x:n.x,y:-1*n.y};if(t instanceof l.CollisionWall&&t.value0 instanceof f.LeftWall)return{x:-1*n.x,y:n.y};if(t instanceof l.CollisionWall&&t.value0 instanceof f.RightWall)return{x:-1*n.x,y:n.y};if(t instanceof l.CollisionPaddle)return v(t.value1.bounceAngle);throw new Error("Failed pattern match at Game.Ball line 95, column 33 - line 100, column 59: "+[t.constructor.name])}}(t)(n.vel)}}}(t.value0)(n)));throw new Error("Failed pattern match at Game.Ball line 60, column 33 - line 73, column 28: "+[t.constructor.name])}};t.getBall=function(t){var n=m.accum(h.streamToStream)(g)(y)(t);return{cPosition:o.map(h.functorCell)(function(t){return t.pos})(n),cTrajectory:o.map(h.functorCell)(function(t){return t.traj})(n)}}}(r["Game.Ball"]=r["Game.Ball"]||{}),function(t){"use strict";r["Data.Either"],r["Data.EuclideanRing"],r["Data.Function"];var n=r["Data.Functor"],e=(r["Data.Maybe"],r["Data.Ring"],r["Data.Semiring"],r.Effect,r["Game.Constants"]),o=r["Game.Tick"],i=r["Game.Trajectory"],u=(r["Game.Types.Basic"],r["Game.Types.Collision"]),a=r["Game.Types.Controller"],s=r["Game.Types.Environment"],l=r["Game.Types.Paddle"],c=r["Game.Types.Tick"],f=(r.Prelude,r["SodiumFRP.Cell"],r["SodiumFRP.Class"]),p=(r["SodiumFRP.Operational"],r["SodiumFRP.Stream"]),d=(r["SodiumFRP.Transaction"],function(t){return function(n){return{pos:i.posAtTime(i.paddleTrajectory)(n.traj)(t),traj:n.traj}}}),h=function(t){var n=function(){if(t instanceof l.Paddle1)return{x:e.paddle1x,y:e.constants.canvasHeight/2};if(t instanceof l.Paddle2)return{x:e.paddle2x,y:e.constants.canvasHeight/2};throw new Error("Failed pattern match at Game.Paddles line 45, column 27 - line 47, column 70: "+[t.constructor.name])}();return{pos:n,traj:new i.PaddleTrajectory(0,0,n)}},m=function(t){return function(n){return function(e){return function(r){var l=o.toTime(e);return e instanceof c.CollisionTick&&e.value0 instanceof u.CollisionWall&&e.value0.value0 instanceof s.LeftWall?h(t):e instanceof c.CollisionTick&&e.value0 instanceof u.CollisionWall&&e.value0.value0 instanceof s.RightWall?h(t):e instanceof c.ControllerTick?d(l)(function(t){return function(n){return function(e){return function(r){var o=e instanceof a.UP?new i.PaddleTrajectory(n,t,r.pos):e instanceof a.DOWN?new i.PaddleTrajectory(n,-1*t,r.pos):e instanceof a.NEUTRAL?new i.PaddleTrajectory(n,0,r.pos):r.traj;return{pos:r.pos,traj:o}}}}}(n)(l)(e.value0)(r)):d(l)(r)}}}};t.getPaddle=function(t){return function(e){return function(r){var o=p.accum(f.streamToStream)(m(e)(r))(h(e))(t);return{cPosition:n.map(f.functorCell)(function(t){return t.pos})(o),cTrajectory:n.map(f.functorCell)(function(t){return t.traj})(o)}}}},t.getPaddleEdge=function(t){return function(n){if(t instanceof l.Paddle1)return n.x+e.constants.paddleWidth/2+e.constants.ballRadius;if(t instanceof l.Paddle2)return n.x-(e.constants.paddleWidth/2+e.constants.ballRadius);throw new Error("Failed pattern match at Game.Paddles line 84, column 43 - line 86, column 89: "+[t.constructor.name])}}}(r["Game.Paddles"]=r["Game.Paddles"]||{}),function(t){"use strict";r["Control.Alternative"],r["Control.Applicative"],r["Control.Bind"];var n=r["Data.Boolean"],e=(r["Data.EuclideanRing"],r["Data.Function"],r["Data.HeytingAlgebra"],r["Data.Maybe"]),o=(r["Data.Ord"],r["Data.Ring"],r["Data.Semiring"],r.Effect,r["Effect.Console"],r["Effect.Unsafe"],r["Game.Constants"]),i=r["Game.Paddles"],u=r["Game.Trajectory"],a=(r["Game.Types.Basic"],r["Game.Types.Collision"]),s=r["Game.Types.Environment"],l=r["Game.Types.Paddle"],c=r["Game.Utils.Sodium"],f=r.Math,p=(r.Prelude,r["SodiumFRP.Class"]),d=r["SodiumFRP.Stream"],h=r["SodiumFRP.Transaction"],m=function(t){return function(n){return function(r){return function(s){return function(c){return function(p){return function(d){return function(h){var m=i.getPaddleEdge(r)(d),y=o.constants.paddleHeight/2,v=c.curr.x-c.prev.x;c.curr.y,c.prev.y;if(function(){if(r instanceof l.Paddle1)return v<0&&c.curr.x<m;if(r instanceof l.Paddle2)return v>0&&c.curr.x>m;throw new Error("Failed pattern match at Game.Collision line 115, column 27 - line 117, column 71: "+[r.constructor.name])}()){var g=u.timeAtX(t)(p)(m),_=s-g,T=u.posAtTime(n)(h)(g),S=T.y+y+o.constants.ballRadius,C=T.y-y-o.constants.ballRadius,w={x:m,y:u.getYforX(t)(p)(m)},E=(T.y-w.y)/y,x=function(){if(r instanceof l.Paddle1)return E;if(r instanceof l.Paddle2)return f.pi-E;throw new Error("Failed pattern match at Game.Collision line 95, column 27 - line 97, column 64: "+[r.constructor.name])}();return w.y<S&&w.y>C?new e.Just(new a.CollisionPaddle(r,{hitPoint:w,timeDiff:_,bounceAngle:x})):e.Nothing.value}return e.Nothing.value}}}}}}}};t.getCollision=function(t){return function(r){return function(i){return function(f){return function(y){return function(v){return function(g){return function(_){return function(T){return function(S){return h.runTransaction(function(){var h=c.accumSingleHistory(T)(),C=c.justStream(d.snapshot3(p.streamToStream)(p.cellToCell)(function(t){return function(r){return function(i){return function(l){if(i.y>o.topWall)return new e.Just(new a.CollisionWall(s.TopWall.value,{hitPoint:{x:u.getXforY(t)(l)(o.topWall),y:o.topWall},timeDiff:r-u.timeAtY(t)(l)(o.topWall)}));if(i.y<o.bottomWall)return new e.Just(new a.CollisionWall(s.BottomWall.value,{hitPoint:{x:u.getXforY(t)(l)(o.bottomWall),y:o.bottomWall},timeDiff:r-u.timeAtY(t)(l)(o.bottomWall)}));if(i.x>o.rightWall)return new e.Just(new a.CollisionWall(s.RightWall.value,{hitPoint:{x:o.rightWall,y:u.getYforX(t)(l)(o.rightWall)},timeDiff:r-u.timeAtX(t)(l)(o.rightWall)}));if(i.x<o.leftWall)return new e.Just(new a.CollisionWall(s.LeftWall.value,{hitPoint:{x:o.leftWall,y:u.getYforX(t)(l)(o.leftWall)},timeDiff:r-u.timeAtX(t)(l)(o.leftWall)}));if(n.otherwise)return e.Nothing.value;throw new Error("Failed pattern match at Game.Collision line 126, column 1 - line 126, column 96: "+[r.constructor.name,i.constructor.name,l.constructor.name])}}}}(i))(f)(T)(S)),w=c.justStream(d.snapshot5(p.streamToStream)(p.cellToCell)(m(i)(t)(l.Paddle1.value))(f)(h)(S)(y)(v)),E=c.justStream(d.snapshot5(p.streamToStream)(p.cellToCell)(m(i)(r)(l.Paddle2.value))(f)(h)(S)(g)(_));return d.orElse(p.streamToStream)(w)(d.orElse(p.streamToStream)(E)(C))})}}}}}}}}}},t.getCollisionAudioName=function(t){if(t instanceof a.CollisionWall&&t.value0 instanceof s.TopWall)return"topWall";if(t instanceof a.CollisionWall&&t.value0 instanceof s.LeftWall)return"leftWall";if(t instanceof a.CollisionWall&&t.value0 instanceof s.RightWall)return"rightWall";if(t instanceof a.CollisionWall&&t.value0 instanceof s.BottomWall)return"bottomWall";if(t instanceof a.CollisionPaddle&&t.value0 instanceof l.Paddle1)return"paddle1";if(t instanceof a.CollisionPaddle&&t.value0 instanceof l.Paddle2)return"paddle2";throw new Error("Failed pattern match at Game.Collision line 164, column 25 - line 170, column 34: "+[t.constructor.name])}}(r["Game.Collision"]=r["Game.Collision"]||{}),function(t){"use strict";r["Control.Applicative"],r["Control.Bind"],r["Data.Function"];var n=r["Data.Functor"],e=r["Data.Maybe"],o=r["Data.Traversable"],i=(r.Effect,r["Effect.Console"],r["Game.Ball"]),u=r["Game.Collision"],a=r["Game.Constants"],s=r["Game.FFI"],l=r["Game.Paddles"],c=r["Game.Tick"],f=r["Game.Trajectory"],p=(r["Game.Types.Basic"],r["Game.Types.IO"],r["Game.Types.Paddle"]),d=(r["Game.Types.Tick"],r["Game.Utils.Sodium"],r.Prelude,r["SodiumFRP.Cell"],r["SodiumFRP.Class"]),h=r["SodiumFRP.Operational"],m=r["SodiumFRP.Stream"],y=r["SodiumFRP.Transaction"],v=a.constants;t.main=function(t){return function(r){return function(r){return function(a){var v=function(t){return function(n){return{id:t,x:n.x,y:n.y}}};return y.runTransaction(function(){s.assignLib(t)();var y=d.newStreamSink(e.Nothing.value)(),g=d.newStreamSink(e.Nothing.value)(),_=d.newStreamSink(e.Nothing.value)(),T=d.newStreamSink(e.Nothing.value)(),S=d.newStreamLoop(),C=c.getTicks(d.toStream(d.streamSinkToStream)(y))(h.defer(d.streamToStream)(d.toStream(d.streamLoopToStream)(S)))(d.toStream(d.streamSinkToStream)(_))(d.toStream(d.streamSinkToStream)(T))(),w=i.getBall(C.sBall),E=l.getPaddle(C.sPaddle1)(p.Paddle1.value)(1),x=l.getPaddle(C.sPaddle2)(p.Paddle2.value)(1),b=u.getCollision(f.paddleTrajectory)(f.paddleTrajectory)(f.ballTrajectory)(d.toStream(d.streamSinkToStream)(y))(E.cPosition)(E.cTrajectory)(x.cPosition)(x.cTrajectory)(w.cPosition)(w.cTrajectory)(),I=(m.loopStream(d.streamToStream)(S)(b)(),o.sequence(o.traversableArray)(d.applicativeCell)([n.map(d.functorCell)(v(0))(w.cPosition),n.map(d.functorCell)(v(1))(E.cPosition),n.map(d.functorCell)(v(2))(x.cPosition)])),D=m.snapshot(d.streamSinkToStream)(d.cellToCell)(function(t){return function(t){return t}})(g)(I);return d.listen(d.listenStream)(D)(r)(),d.listen(d.listenStream)(n.map(d.functorStream)(u.getCollisionAudioName)(b))(a)(),{sendUpdate:d.send(d.sendStream)(y),sendRender:d.send(d.sendStream)(g),sendController1:d.send(d.sendStream)(_),sendController2:d.send(d.sendStream)(T)}})}}}},t.constants=v}(r.Main=r.Main||{}),t.exports=r.Main},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(1),i=e(7),u=function(){function t(t){this.toStrF=t||r.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,n){if(void 0===n&&(n=1),r.isUndefined(t)||n<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=n;else{var e={value:t,copies:n};this.dictionary.setValue(t,e)}return this.nElements+=n,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,n){if(void 0===n&&(n=1),r.isUndefined(t)||n<=0)return!1;if(this.contains(t)){var e=this.dictionary.getValue(t);return n>e.copies?this.nElements-=e.copies:this.nElements-=n,e.copies-=n,e.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],n=0,e=this.dictionary.values();n<e.length;n++)for(var r=e[n],o=r.value,i=r.copies,u=0;u<i;u++)t.push(o);return t},t.prototype.toSet=function(){for(var t=new i.default(this.toStrF),n=0,e=this.dictionary.values();n<e.length;n++){var r=e[n].value;t.add(r)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(n,e){for(var r=e.value,o=e.copies,i=0;i<o;i++)if(!1===t(r))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();n.default=u},function(t,n,e){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n}(e(8).default);n.default=i},function(t,n,e){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),u=e(0),a=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),s=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}();var l=function(t){function n(n){var e=t.call(this,n)||this;return e.head=new s,e.tail=new s,e.head.next=e.tail,e.tail.prev=e.head,e}return o(n,t),n.prototype.appendToTail=function(t){var n=this.tail.prev;n.next=t,t.prev=n,t.next=this.tail,this.tail.prev=t},n.prototype.getLinkedDictionaryPair=function(t){if(!u.isUndefined(t)){var n="$"+this.toStr(t);return this.table[n]}},n.prototype.getValue=function(t){var n=this.getLinkedDictionaryPair(t);if(!u.isUndefined(n))return n.value},n.prototype.remove=function(n){var e=this.getLinkedDictionaryPair(n);if(!u.isUndefined(e))return t.prototype.remove.call(this,n),e.unlink(),e.value},n.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},n.prototype.replace=function(t,n){var e="$"+this.toStr(n.key);n.next=t.next,n.prev=t.prev,this.remove(t.key),n.prev.next=n,n.next.prev=n,this.table[e]=n,++this.nElements},n.prototype.setValue=function(t,n){if(!u.isUndefined(t)&&!u.isUndefined(n)){var e=this.getLinkedDictionaryPair(t),r=new a(t,n),o="$"+this.toStr(t);return u.isUndefined(e)?(this.appendToTail(r),this.table[o]=r,void++this.nElements):(this.replace(e,r),e.value)}},n.prototype.keys=function(){var t=[];return this.forEach(function(n,e){t.push(n)}),t},n.prototype.values=function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},n.prototype.forEach=function(t){for(var n=this.head.next;null!==n.next;){if(!1===t(n.key,n.value))return;n=n.next}},n}(i.default);n.default=l},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(1),i=e(3),u=function(){function t(t,n,e){void 0===e&&(e=!1),this.dict=new o.default(t),this.equalsF=n||r.defaultEquals,this.allowDuplicate=e}return t.prototype.getValue=function(t){var n=this.dict.getValue(t);return r.isUndefined(n)?[]:i.copy(n)},t.prototype.setValue=function(t,n){if(r.isUndefined(t)||r.isUndefined(n))return!1;var e=this.dict.getValue(t);return r.isUndefined(e)?(this.dict.setValue(t,[n]),!0):!(!this.allowDuplicate&&i.contains(e,n,this.equalsF))&&(e.push(n),!0)},t.prototype.remove=function(t,n){if(r.isUndefined(n)){var e=this.dict.remove(t);return!r.isUndefined(e)}var o=this.dict.getValue(t);return!(r.isUndefined(o)||!i.remove(o,n,this.equalsF))&&(0===o.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],n=0,e=this.dict.values();n<e.length;n++)for(var r=0,o=e[n];r<o.length;r++){var i=o[r];t.push(i)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),o=e(10),i=function(){function t(t){this.heap=new o.default(r.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();n.default=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(5),o=function(){function t(){this.list=new r.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,n){return this.list.contains(t,n)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();n.default=o},function(t,n,e){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(r||(r={}));var o=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.rootIds=t,this.nodes=n,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,n=this.rootIds;t<n.length;t++){var e=n[t];this.createEmptyNodeIfNotExist(e)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0,e=this.nodes[t];n<e.length;n++){var r=e[n];this.createEmptyNodeIfNotExist(r)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var n in this.nodes)this.nodes.hasOwnProperty(n)&&(t[n]=this.nodes[n].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,n=[],e=0;e<this.rootIds.length;e++){var r=this.rootIds[e];n.push({id:r,level:0,hasParent:!1,childrenCount:0}),s(r,this.nodes,n,0)}for(var o=0,i=n;o<i.length;o++){var u=i[o];u.childrenCount=a(u.id)}return n;function a(n){return t.nodes[n]?t.nodes[n].length:0}function s(t,n,e,r){if(void 0===r&&(r=0),t&&n&&e&&n[t]){r++;for(var o=n[t],i=0;i<o.length;i++){var u=o[i];e.push({id:u,level:r,hasParent:!0}),s(u,n,e,r)}r--}}},t.prototype.moveIdBeforeId=function(t,n){return this.moveId(t,n,r.BEFORE)},t.prototype.moveIdAfterId=function(t,n){return this.moveId(t,n,r.AFTER)},t.prototype.moveIdIntoId=function(t,n,e){return void 0===e&&(e=!0),e?this.moveId(t,n,r.INSIDE_AT_START):this.moveId(t,n,r.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,n){var e=this.findRootId(t),r=this.findRootId(n);this.swapRootPositionWithRootPosition(e,r)},t.prototype.swapRootPositionWithRootPosition=function(t,n){var e=this.rootIds[n];this.rootIds[n]=this.rootIds[t],this.rootIds[t]=e},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,n){var e=this.findRootId(t);for(var r in e>-1&&this.insertIdIntoRoot(n,e),this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,n,o)}},t.prototype.insertIdAfterId=function(t,n){var e=this.findRootId(t);for(var r in e>-1&&this.insertIdIntoRoot(n,e+1),this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,n,o+1)}},t.prototype.insertIdIntoId=function(t,n){this.nodeInsertAtEnd(t,n),this.nodes[n]=[]},t.prototype.insertIdIntoRoot=function(t,n){if(void 0===n)this.rootInsertAtEnd(t);else if(n<0){var e=this.rootIds.length;this.rootIds.splice(n+e+1,0,t)}else this.rootIds.splice(n,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,n,e){if(this.nodes[t]=this.nodes[t]||[],this.nodes[n]=this.nodes[n]||[],void 0===e)this.nodeInsertAtEnd(t,n);else if(e<0){var r=this.nodes[t].length;this.nodes[t].splice(e+r+1,0,n)}else this.nodes[t].splice(e,0,n)},t.prototype.moveId=function(t,n,e){var o=t,i=this.findRootId(o);for(var u in this.nodes[n]&&n,this.nodes)if(this.nodes.hasOwnProperty(u)){this.findNodeId(u,n);break}var a=n,s=this.findRootId(a);for(var u in this.nodes[n]&&n,this.nodes)if(this.nodes.hasOwnProperty(u)){this.findNodeId(u,n);break}if(i>-1)if(s>-1)switch(this.rootDelete(i),s>i&&s--,e){case r.BEFORE:this.insertIdIntoRoot(o,s);break;case r.AFTER:this.insertIdIntoRoot(o,s+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}else for(var u in this.rootDelete(i),this.nodes){if(this.nodes.hasOwnProperty(u))if((l=this.findNodeId(u,a))>-1){switch(e){case r.BEFORE:this.insertIdIntoNode(u,o,l);break;case r.AFTER:this.insertIdIntoNode(u,o,l+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}else if(s>-1){for(var u in this.nodes){if(this.nodes.hasOwnProperty(u))if((l=this.findNodeId(u,o))>-1){this.nodeDeleteAtIndex(u,l);break}}switch(e){case r.BEFORE:this.insertIdIntoRoot(o,s);break;case r.AFTER:this.insertIdIntoRoot(o,s+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}}else{for(var u in this.nodes){if(this.nodes.hasOwnProperty(u))if((l=this.findNodeId(u,o))>-1){this.nodeDeleteAtIndex(u,l);break}}for(var u in this.nodes){var l;if(this.nodes.hasOwnProperty(u))if((l=this.findNodeId(u,a))>-1){switch(e){case r.BEFORE:this.insertIdIntoNode(u,o,l);break;case r.AFTER:this.insertIdIntoNode(u,o,l+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}},t.prototype.swapArrayElements=function(t,n,e){var r=t[n];return t[n]=t[e],t[e]=r,t},t.prototype.rootDeleteId=function(t){var n=this.findRootId(t);n>-1&&this.rootDelete(n)},t.prototype.nodeAndSubNodesDelete=function(t){for(var n=[],e=0;e<this.nodes[t].length;e++){var r=this.nodes[t][e];this.nodeAndSubNodesDelete(r),n.push(t)}this.nodeDelete(t);for(e=0;e<n.length;e++)this.nodeDelete(n[e])},t.prototype.nodeRefrencesDelete=function(t){for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var e=0;e<this.nodes[n].length;e++){this.nodes[n][e]===t&&this.nodeDeleteAtIndex(n,e)}},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,n){return this.nodes[t].indexOf(n)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,n){this.nodes[t].unshift(n)},t.prototype.nodeInsertAtEnd=function(t,n){this.nodes[t].push(n)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,n){this.nodes[t].splice(n,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();n.default=o},function(t,n,e){"use strict";e.r(n);var r;!function(t){t[t.WORKER_START=0]="WORKER_START",t[t.WORKER_READY=1]="WORKER_READY",t[t.TICK=2]="TICK",t[t.RENDER=3]="RENDER",t[t.CONTROLLER1=4]="CONTROLLER1",t[t.CONTROLLER2=5]="CONTROLLER2",t[t.AI_UPDATE=6]="AI_UPDATE",t[t.AI_CONTROLLER=7]="AI_CONTROLLER",t[t.COLLISION=8]="COLLISION"}(r||(r={}));var o=function(t,n,e,r){return new(e||(e=Promise))(function(o,i){function u(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,a)}s((r=r.apply(t,n||[])).next())})},i=function(t,n){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function u(t){return t}var a,s,l=e(14),c=new Worker("./aiWorker.js"),f=2,p=function(t){return function(){self.postMessage({cmd:r.RENDER,renderables:t}),c.postMessage({cmd:r.AI_UPDATE,ball_x:t[0].x,ball_y:t[0].y,paddle1_x:t[1].x,paddle1_y:t[1].y,paddle2_x:t[2].x,paddle2_y:t[2].y})}},d=function(t){return function(){c.postMessage({cmd:r.COLLISION,collisionName:t}),self.postMessage({cmd:r.COLLISION,collisionName:t})}},h=function(){null==a||f||self.postMessage({cmd:r.WORKER_READY,constants:l.constants})};(function(){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t=u,[4,e.e(1).then(e.bind(null,24))];case 1:return[2,t.apply(void 0,[n.sent()])]}})})})().then(function(t){a=t,h()}),c.addEventListener("message",function(t){switch(t.data.cmd){case r.WORKER_READY:f--,h();break;case r.AI_CONTROLLER:s.sendController2(t.data.controller)}}),c.postMessage({cmd:r.WORKER_START,constants:l.constants}),self.addEventListener("message",function(t){switch(t.data.cmd){case r.WORKER_START:f--,h();break;case r.TICK:!function(t){if(null==s){var n=l.main(a)(t)(p)(d)();s={sendUpdate:function(t){return n.sendUpdate(t)()},sendRender:function(){return n.sendRender(t)()},sendController1:function(t){return n.sendController1(t)()},sendController2:function(t){return n.sendController2(t)()}}}s.sendUpdate(t),s.sendUpdate(t),s.sendRender()}(t.data.now);break;case r.CONTROLLER1:s.sendController1(t.data.controller);break;case r.CONTROLLER2:s.sendController2(t.data.controller)}})}]);